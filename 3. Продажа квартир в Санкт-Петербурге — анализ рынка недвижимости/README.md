# [Продажа квартир в Санкт-Петербурге — анализ рынка недвижимости](https://github.com/Urchien/Yandex_Practicum/blob/main/3.%20%D0%9F%D1%80%D0%BE%D0%B4%D0%B0%D0%B6%D0%B0%20%D0%BA%D0%B2%D0%B0%D1%80%D1%82%D0%B8%D1%80%20%D0%B2%20%D0%A1%D0%B0%D0%BD%D0%BA%D1%82-%D0%9F%D0%B5%D1%82%D0%B5%D1%80%D0%B1%D1%83%D1%80%D0%B3%D0%B5%20%E2%80%94%20%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7%20%D1%80%D1%8B%D0%BD%D0%BA%D0%B0%20%D0%BD%D0%B5%D0%B4%D0%B2%D0%B8%D0%B6%D0%B8%D0%BC%D0%BE%D1%81%D1%82%D0%B8/sale%20of%20apartments.ipynb)

## Статус проекта - завершен.

## Описание проекта

В вашем распоряжении данные сервиса Яндекс.Недвижимость — архив объявлений о продаже квартир в Санкт-Петербурге и соседних населённых пунктов за несколько лет. Нужно научиться определять рыночную стоимость объектов недвижимости. Ваша задача — установить параметры. Это позволит построить автоматизированную систему: она отследит аномалии и мошенническую деятельность. 

По каждой квартире на продажу доступны два вида данных. Первые вписаны пользователем, вторые — получены автоматически на основе картографических данных. Например, расстояние до центра, аэропорта, ближайшего парка и водоёма.

## Описание данных 

Для исследования получен csv-файл real_estate_data.csv который содержит следующие столбцы:

- airports_nearest — расстояние до ближайшего аэропорта в метрах (м)
- balcony — число балконов
- ceiling_height — высота потолков (м)
- cityCenters_nearest — расстояние до центра города (м)
- days_exposition — сколько дней было размещено объявление (от публикации до снятия)
- first_day_exposition — дата публикации
- floor — этаж
- floors_total — всего этажей в доме
- is_apartment — апартаменты (булев тип)
- kitchen_area — площадь кухни в квадратных метрах (м²)
- last_price — цена на момент снятия с публикации
- living_area — жилая площадь в квадратных метрах (м²)
- locality_name — название населённого пункта
- open_plan — свободная планировка (булев тип)
- parks_around3000 — число парков в радиусе 3 км
- parks_nearest — расстояние до ближайшего парка (м)
- ponds_around3000 — число водоёмов в радиусе 3 км
- ponds_nearest — расстояние до ближайшего водоёма (м)
- rooms — число комнат
- studio — квартира-студия (булев тип)
- total_area — общая площадь квартиры в квадратных метрах (м²)
- total_images — число фотографий квартиры в объявлении

## Задачи проекта

Найти и исследовать зависимости влияющие на рыночную стоимость недвижимости.

## Примененные инструменты

- Python
- Pandas
- Matplotlib
- Seaborn

## Результаты исследования

***В ходе исследования была проведена следущая работа:***

***1. Ознакомление с данными***
- Был открыт и изучен датафрейм, выведена основная информация и построены общие гитограммы.
- Были определены пропущенные значения в 14 стобцах и обнаружены признаки аномалий.
***2. Предобработка данных***
- Везде, где это было возможным без нанесение крупного ущерба были заполнены пропущенные значения.
- Не заполненными остались только картографические данные, которые добавлялись в базу автоматически, а не вносились пользователем вручную. На это стоит обратить внимание дата-инженерам! Так-же был оставлен незаполненным столбец с временем публикации, в связи с тем, что на момент выгрузки базы, обявления небыли сняты.
- Были обработанны аномальные значения с потерей 2.9% от общего количества данных.
- Так-же были изменены типы данных, для удобства из обработки.
- Устраннены неявные дубликаты в стобце с названиями населенных пунктов.
- Посчитано и добавлено в таблицу: 
    - цена одного квадратного метра, 
    - день публикации объявления (0 - понедельник, 1 - вторник и т.д.), 
    - месяц публикации, объявления, 
    - год публикации объявления, 
    - тип этажа квартиры (значения — «первый», «последний», «другой»), 
    - расстояние в км до центра города.
***3. Исследовательский анализ данных***
- Были изучены и описаны следующие параметры:
    - общая площадь;
    - жилая площадь;
    - площадь кухни;
    - цена объекта;
    - количество комнат;
    - высота потолков;
    - этаж квартиры;
    - тип этажа квартиры («первый», «последний», «другой»);
    - общее количество этажей в доме;
    - расстояние до центра города в метрах;
    - расстояние до ближайшего аэропорта;
    - расстояние до ближайшего парка;
    - день и месяц публикации объявления
- Построены гистограммы для каждого параметра
- Изучено, как быстро продавались квартиры (столбец days_exposition)
- Определены факторы, которые больше всего влияют на общую (полную) стоимость объекта
- Посчитана средняя цена одного квадратного метра в 10 населённых пунктах с наибольшим числом объявлений
- Вычислена средняя цену каждого километра в Санкт-Петербурге

***4. Общие выводы***

***Общая площадь***
- Большинство квартир имеют общую площадь от 40 до 69 м2.
- Средняя общая площадь квартиры - 57.94 м2.
- Медиана составляет - 52.00 м2.
- Минимальная общая площадь квартиры - 20 м2.
- Максимальная общая площадь квартиры - 199 м2.

***Жилая площадь***
- Большинство квартир имеют жилую площадь от 19 до 42 м2.
- Средняя жилая площадь квартиры - 32.99 м2.
- Медиана составляет - 30 м2.
- Минимальная общая площадь квартиры - 9 м2.
- Максимальная общая площадь квартиры - 140 м2.

***Площадь кухни***
- Большинство квартир имеют площадь кухни от 7 до 12 м2.
- Средняя жилая площадь кухни - 10.35 м2.
- Медиана составляет - 9.10 м2.
- Минимальная общая площадь кухни - 5 м2.
- Максимальная общая площадь квартиры - 58.40 м2.

***Цена объекта***
- Большинство квартир стоят от 3450000 до 6700000 р.
- Средняя стоимость квартиры - 5827374.69 р.
- Медиана составляет - 4646500 р.
- Минимальная стоимость квартиры - 430000 р.
- Максимальная стоимость квартиры - 39990000 р.

***Количество комнат***
- В большинстве квартир от 1-й до 3-х комнат.
- В среднем в квартирах - 2 комнаты.
- В некоторых квартирах комнаты отсутвуют. Это или студии или квартиры свободной планировки.
- Максимальное количество комнат в квартире - 11. Но квартир с количеством комнат от 6 до 11, практитчески также мало, как студий и квартир свбодной планировки.

***Высота потолков***
- В большинстве квартир потолки от 2.6 до 2.7 м.
- Средняя высота потолка - 2.69 м.
- Медиана составляет - 2.65 м.
- Минимальная высота потолка - 2.5 м.
- Максимальная высота потолка - 10 м.

***Этаж квартиры***
- Большинство квартир расположены со 2-го до 8-й этаж.
- Медиана - 2 этаж.
- Самый низкий - 1 этаж.
- Самый высокий - 33 этаж.

***Тип этажа квартиры («первый», «последний», «другой»)***
- Большинство квартир (16888) расположены на этажах категории другой этаж.
- Минимальное количество квартир (2842) квартир расположено в категории первый этаж.
- Немногим больше (3281) расположено в категории последний этаж.

***Общее количество этажей в доме***
- В основном квартиры продаются в 5-и, 9-и и 16-и этажных домах.
- Медианой будут 5-и этажные здания.
- Минимум одноэтажки.
- Максимум ЖК Александр Невский в 37 этажей.

***Расстояние до центра города в метрах***
- Большинство домов расположено в 9502-и - 16355 м. от центра города.
- В среднем растояние до дома от центра города - 14320 м.
- Самый близкий дом находится в 181 м. от центра города.
- Самый далекий дом расположен в 65968-и м. от центра города.

***Расстояние до ближайшего аэропорта***
- Большинство домов расположено в 18503-х - 37407 м. от аэропорта.
- В среднем растояние до дома от аэропорта - 28869 м.
- Самый близкий дом находится в 6450 м. от аэропорта.
- Самый далекий дом расположен в 84869-и м. от аэропорта.

***Расстояние до ближайшего парка***
- Большинство домов расположено в 456-и - 613 м. от ближайшего парка.
- В среднем растояние до дома от ближайшего парка - 493-х м.
- Самый близкий дом находится в 1-ом м. от ближайшего парка.
- Самый далекий дом расположен в 3190 м. от ближайшего парка.

***День и месяц публикации объявления***
- Самыми пиковыми являются февраль, март и апрель - в районе 2500 объявлений в месяц. 
- Ожидаемый спад в мае и декабре - феврале в связи с длинными праздниками. 
- Летом активность тоже не большая - 1600-1700 объявлений в месяц.

***Изучили, как быстро продавались квартиры (столбец days_exposition)***
- Быстрыми будем считать продажи попавшие в первый квантиль - 45 дней.
- Аномально долгими продажи - больше 200 дней.
- Нормальными продажами будем считать медиану - 95 дней.

***Определили какие факторы больше всего влияют на общую (полную) стоимость объекта***
- Самое сильное вляние на стоимость жилья оказывает общая площадь.
- Жилая площадь, площадь кухни и количество комнат косвенно влияет на стоимость через общую площадь.
- Квартиры на первом этаже стоят дешевле всех остальных.
- После 2014 года рынок недвижимости в Ленинградской области просел примерно на 30%.

***Посчитали среднюю цену одного квадратного метра в 10 населённых пунктах с наибольшим числом объявлений.***
- Самая высокая стоимость за квадратный метр и количеству объявлений у Санкт-Петербурга, 
а самая низкая в десятке у Выборга. В Топ-10 входят ближайшие к Санкт-Петербургу города

***Вычислили среднюю цену каждого километра для Санкт-Петербурга***
- Чем ближе к центру города, тем выше стоимоть квадратного метра - это логично, но с некоторыми оговорками: 
Санкт-Петербург старый город и он не однороден. По этому в радиусе километра от самого центра могут 
продаваться квартиры в обветшалых домах или в плохом состоянии, а за 27 километров от центра 
может стоять элитный жилой комплекс или коттеджный поселок с ценой за квадратный метр идентичной 
самому центру города. Очень мало информации, чтобы строить какие либо гипотезы.